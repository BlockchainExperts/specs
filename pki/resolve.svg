<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="325px" preserveAspectRatio="none" style="width:427px;height:325px;" version="1.1" viewBox="0 0 427 325" width="427px" zoomAndPan="magnify"><defs><filter height="300%" id="fhrqfzmnnag0s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="138.75" y="23.5352">Resolving PublicKey</text><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="42" x2="42" y1="116.9766" y2="237.9082"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="319.5" x2="319.5" y1="116.9766" y2="237.9082"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="397.5" x2="397.5" y1="116.9766" y2="237.9082"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="8" y="114.0234">Recipient</text><ellipse cx="42.5" cy="43.4883" fill="#FFFFFF" filter="url(#fhrqfzmnnag0s)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M42.5,51.4883 L42.5,78.4883 M29.5,59.4883 L55.5,59.4883 M42.5,78.4883 L29.5,93.4883 M42.5,78.4883 L55.5,93.4883 " fill="#FFFFFF" filter="url(#fhrqfzmnnag0s)" style="stroke: #6959DB; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="8" y="250.4434">Recipient</text><ellipse cx="42.5" cy="263.3965" fill="#FFFFFF" filter="url(#fhrqfzmnnag0s)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M42.5,271.3965 L42.5,298.3965 M29.5,279.3965 L55.5,279.3965 M42.5,298.3965 L29.5,313.3965 M42.5,298.3965 L55.5,313.3965 " fill="#FFFFFF" filter="url(#fhrqfzmnnag0s)" style="stroke: #6959DB; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="269.5" y="114.0234">UportRegistry</text><path d="M301.5,64.4883 C301.5,54.4883 319.5,54.4883 319.5,54.4883 C319.5,54.4883 337.5,54.4883 337.5,64.4883 L337.5,90.4883 C337.5,100.4883 319.5,100.4883 319.5,100.4883 C319.5,100.4883 301.5,100.4883 301.5,90.4883 L301.5,64.4883 " fill="#FEFECE" filter="url(#fhrqfzmnnag0s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M301.5,64.4883 C301.5,74.4883 319.5,74.4883 319.5,74.4883 C319.5,74.4883 337.5,74.4883 337.5,64.4883 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="269.5" y="250.4434">UportRegistry</text><path d="M301.5,263.3965 C301.5,253.3965 319.5,253.3965 319.5,253.3965 C319.5,253.3965 337.5,253.3965 337.5,263.3965 L337.5,289.3965 C337.5,299.3965 319.5,299.3965 319.5,299.3965 C319.5,299.3965 301.5,299.3965 301.5,289.3965 L301.5,263.3965 " fill="#FEFECE" filter="url(#fhrqfzmnnag0s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M301.5,263.3965 C301.5,273.3965 319.5,273.3965 319.5,273.3965 C319.5,273.3965 337.5,273.3965 337.5,263.3965 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="380.5" y="114.0234">IPFS</text><path d="M379.5,64.4883 C379.5,54.4883 397.5,54.4883 397.5,54.4883 C397.5,54.4883 415.5,54.4883 415.5,64.4883 L415.5,90.4883 C415.5,100.4883 397.5,100.4883 397.5,100.4883 C397.5,100.4883 379.5,100.4883 379.5,90.4883 L379.5,64.4883 " fill="#FEFECE" filter="url(#fhrqfzmnnag0s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M379.5,64.4883 C379.5,74.4883 397.5,74.4883 397.5,74.4883 C397.5,74.4883 415.5,74.4883 415.5,64.4883 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="380.5" y="250.4434">IPFS</text><path d="M379.5,263.3965 C379.5,253.3965 397.5,253.3965 397.5,253.3965 C397.5,253.3965 415.5,253.3965 415.5,263.3965 L415.5,289.3965 C415.5,299.3965 397.5,299.3965 397.5,299.3965 C397.5,299.3965 379.5,299.3965 379.5,289.3965 L379.5,263.3965 " fill="#FEFECE" filter="url(#fhrqfzmnnag0s)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M379.5,263.3965 C379.5,273.3965 397.5,273.3965 397.5,273.3965 C397.5,273.3965 415.5,273.3965 415.5,263.3965 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#6959DB" points="53.5,143.9766,43.5,147.9766,53.5,151.9766,49.5,147.9766" style="stroke: #6959DB; stroke-width: 1.0;"/><polygon fill="#6959DB" points="307.5,143.9766,317.5,147.9766,307.5,151.9766,311.5,147.9766" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="47.5" x2="313.5" y1="147.9766" y2="147.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="59.5" y="143.5449">Lookup IPFS hash for Sender</text><polygon fill="#6959DB" points="53.5,173.2871,43.5,177.2871,53.5,181.2871,49.5,177.2871" style="stroke: #6959DB; stroke-width: 1.0;"/><polygon fill="#6959DB" points="385.5,173.2871,395.5,177.2871,385.5,181.2871,389.5,177.2871" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="47.5" x2="391.5" y1="177.2871" y2="177.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="59.5" y="172.8555">Identity Document for IPFS hash</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="42.5" x2="84.5" y1="206.9082" y2="206.9082"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="84.5" x2="84.5" y1="206.9082" y2="219.9082"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="43.5" x2="84.5" y1="219.9082" y2="219.9082"/><polygon fill="#6959DB" points="53.5,215.9082,43.5,219.9082,53.5,223.9082,49.5,219.9082" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="49.5" y="202.166">Extract PublicKey from Identity Document</text><!--
@startuml
skinparam roundcorner 10
skinparam BoxPadding 10
skinparam headerFontColor #6959DB
skinparam headerFontSize 18
skinparam sequence {
  ArrowColor #6959DB
  GroupBackgroundColor #6959DB
  GroupBorderColor #EDECFF
  GroupHeaderFontColor #ffffff
  BoxBorderColor #6959DB
  BoxBackgroundColor #EDECFF
  BoxPadding 10

  ParticipantBorderColor #6959DB
  ParticipantBackgroundColor #ffffff
  ParticipantPadding 10

  ActorBorderColor #6959DB
  ActorBackgroundColor #ffffff
  EntityBorderColor #6959DB
  EntityBackgroundColor #ffffff
  DatabaseBorderColor #6959DB
  DatabaseBackgroundColor #ffffff

  LifeLineBorderColor #878787
}

title Resolving PublicKey
actor Recipient
database UportRegistry
database IPFS

Recipient <-> UportRegistry: Lookup IPFS hash for Sender
Recipient <-> IPFS: Identity Document for IPFS hash
Recipient -> Recipient: Extract PublicKey from Identity Document
@enduml

PlantUML version 1.2017.19(Sun Nov 12 05:46:22 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Mac OS X
OS Version: 10.13.1
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>