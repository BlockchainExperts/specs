<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="723px" preserveAspectRatio="none" style="width:1164px;height:723px;" version="1.1" viewBox="0 0 1164 723" width="1164px" zoomAndPan="magnify"><defs><filter height="300%" id="fwpp1vh0r22ql" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="398" x="384" y="23.5352">Desktop Web Server App to Uport Mobile Request Flow</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="277.7949" style="stroke: #EDECFF; stroke-width: 2.0;" width="1140" x="13" y="133.9766"/><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="193.1738" style="stroke: #EDECFF; stroke-width: 2.0;" width="1140" x="13" y="425.7715"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="76" x2="76" y1="116.9766" y2="635.9453"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="506" x2="506" y1="116.9766" y2="635.9453"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="650" x2="650" y1="116.9766" y2="635.9453"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="778" x2="778" y1="116.9766" y2="635.9453"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1117" x2="1117" y1="116.9766" y2="635.9453"/><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="82" x="33" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="40" y="102.0234">ClientApp</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="82" x="33" y="634.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="40" y="655.4805">ClientApp</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="130" x="439" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="446" y="102.0234">MessagingServer</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="130" x="439" y="634.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="446" y="655.4805">MessagingServer</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="90" x="603" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="610" y="102.0234">PushServer</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="90" x="603" y="634.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="610" y="655.4805">PushServer</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="99" x="727" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="734" y="102.0234">UportMobile</text><rect fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" height="30.4883" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="99" x="727" y="634.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="734" y="655.4805">UportMobile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="1092" y="114.0234">Owner</text><ellipse cx="1117.5" cy="43.4883" fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M1117.5,51.4883 L1117.5,78.4883 M1104.5,59.4883 L1130.5,59.4883 M1117.5,78.4883 L1104.5,93.4883 M1117.5,78.4883 L1130.5,93.4883 " fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" style="stroke: #6959DB; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="1092" y="648.4805">Owner</text><ellipse cx="1117.5" cy="661.4336" fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M1117.5,669.4336 L1117.5,696.4336 M1104.5,677.4336 L1130.5,677.4336 M1117.5,696.4336 L1104.5,711.4336 M1117.5,696.4336 L1130.5,711.4336 " fill="#FFFFFF" filter="url(#fwpp1vh0r22ql)" style="stroke: #6959DB; stroke-width: 2.0;"/><rect fill="none" height="277.7949" style="stroke: #EDECFF; stroke-width: 2.0;" width="1140" x="13" y="133.9766"/><polygon fill="#6959DB" points="13,133.9766,223,133.9766,223,140.9766,213,150.9766,13,150.9766,13,133.9766" style="stroke: #EDECFF; stroke-width: 2.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="28" y="147.5449">App Request Permission</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="76" x2="118" y1="172.5977" y2="172.5977"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="118" x2="118" y1="172.5977" y2="185.5977"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="77" x2="118" y1="185.5977" y2="185.5977"/><polygon fill="#6959DB" points="87,181.5977,77,185.5977,87,189.5977,83,185.5977" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="416" x="83" y="167.8555">Selective Disclosure Request requesting notifications permissions</text><polygon fill="#6959DB" points="1105.5,210.5977,1115.5,214.5977,1105.5,218.5977,1109.5,214.5977" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="76" x2="1111.5" y1="214.5977" y2="214.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="83" y="210.166">Show QR code containing request</text><polygon fill="#6959DB" points="789.5,239.9082,779.5,243.9082,789.5,247.9082,785.5,243.9082" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="783.5" x2="1116.5" y1="243.9082" y2="243.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="795.5" y="239.4766">Scans QR code</text><polygon fill="#6959DB" points="1105.5,269.2188,1115.5,273.2188,1105.5,277.2188,1109.5,273.2188" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="778.5" x2="1111.5" y1="273.2188" y2="273.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="785.5" y="268.7871">Authorize Request?</text><polygon fill="#6959DB" points="789.5,298.5293,779.5,302.5293,789.5,306.5293,785.5,302.5293" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="783.5" x2="1116.5" y1="302.5293" y2="302.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="795.5" y="298.0977">Allow/Disallow</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="778.5" x2="820.5" y1="332.1504" y2="332.1504"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="820.5" x2="820.5" y1="332.1504" y2="345.1504"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="779.5" x2="820.5" y1="345.1504" y2="345.1504"/><polygon fill="#6959DB" points="789.5,341.1504,779.5,345.1504,789.5,349.1504,785.5,345.1504" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="325" x="785.5" y="327.4082">Sign Selective Disclosure Response with PushToken</text><polygon fill="#6959DB" points="517,370.1504,507,374.1504,517,378.1504,513,374.1504" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="511" x2="777.5" y1="374.1504" y2="374.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="523" y="369.7188">Selective Disclosure Response</text><polygon fill="#6959DB" points="87,399.4609,77,403.4609,87,407.4609,83,403.4609" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="81" x2="505" y1="403.4609" y2="403.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="93" y="399.0293">Selective Disclosure Response</text><rect fill="none" height="193.1738" style="stroke: #EDECFF; stroke-width: 2.0;" width="1140" x="13" y="425.7715"/><polygon fill="#6959DB" points="13,425.7715,150,425.7715,150,432.7715,140,442.7715,13,442.7715,13,425.7715" style="stroke: #EDECFF; stroke-width: 2.0;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="28" y="439.3398">Send Request</text><polygon fill="#6959DB" points="638,460.082,648,464.082,638,468.082,642,464.082" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="76" x2="644" y1="464.082" y2="464.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="83" y="459.6504">Send Request Authenticated with PushToken</text><polygon fill="#6959DB" points="766.5,489.3926,776.5,493.3926,766.5,497.3926,770.5,493.3926" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="650" x2="772.5" y1="493.3926" y2="493.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="657" y="488.9609">Notify App</text><polygon fill="#6959DB" points="1105.5,518.7031,1115.5,522.7031,1105.5,526.7031,1109.5,522.7031" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="778.5" x2="1111.5" y1="522.7031" y2="522.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="785.5" y="518.2715">Authorize Request?</text><polygon fill="#6959DB" points="789.5,548.0137,779.5,552.0137,789.5,556.0137,785.5,552.0137" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="783.5" x2="1116.5" y1="552.0137" y2="552.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="795.5" y="547.582">Allow/Disallow</text><polygon fill="#6959DB" points="517,577.3242,507,581.3242,517,585.3242,513,581.3242" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="511" x2="777.5" y1="581.3242" y2="581.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="523" y="576.8926">Send response</text><polygon fill="#6959DB" points="87,606.6348,77,610.6348,87,614.6348,83,610.6348" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="81" x2="505" y1="610.6348" y2="610.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="93" y="606.2031">Receive Response</text><!--
@startuml
skinparam roundcorner 10
skinparam BoxPadding 10
skinparam headerFontColor #6959DB
skinparam headerFontSize 18
skinparam sequence {
  ArrowColor #6959DB
  GroupBackgroundColor #6959DB
  GroupBorderColor #EDECFF
  GroupHeaderFontColor #ffffff
  BoxBorderColor #6959DB
  BoxBackgroundColor #EDECFF
  BoxPadding 10

  ParticipantBorderColor #6959DB
  ParticipantBackgroundColor #ffffff
  ParticipantPadding 10

  ActorBorderColor #6959DB
  ActorBackgroundColor #ffffff
  EntityBorderColor #6959DB
  EntityBackgroundColor #ffffff
  DatabaseBorderColor #6959DB
  DatabaseBackgroundColor #ffffff

  LifeLineBorderColor #878787
}

title Desktop Web Server App to Uport Mobile Request Flow
participant ClientApp
participant MessagingServer
participant PushServer
participant UportMobile
actor Owner

group App Request Permission
  ClientApp -> ClientApp : Selective Disclosure Request requesting notifications permissions
  ClientApp -> Owner : Show QR code containing request
  Owner -> UportMobile: Scans QR code
  UportMobile -> Owner : Authorize Request?
  Owner -> UportMobile: Allow/Disallow
  UportMobile -> UportMobile: Sign Selective Disclosure Response with PushToken
  UportMobile -> MessagingServer: Selective Disclosure Response
  MessagingServer -> ClientApp: Selective Disclosure Response
end

group Send Request
  ClientApp -> PushServer : Send Request Authenticated with PushToken
  PushServer -> UportMobile : Notify App
  UportMobile -> Owner : Authorize Request?
  Owner -> UportMobile: Allow/Disallow
  UportMobile -> MessagingServer: Send response
  MessagingServer -> ClientApp: Receive Response
end
@enduml

PlantUML version 1.2017.19(Sun Nov 12 05:46:22 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Mac OS X
OS Version: 10.13.1
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>